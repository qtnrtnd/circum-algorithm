{"mappings":"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","sources":["src/script/modules/global_var.js","src/script/modules/geometry_functions.js","src/script/modules/draw.js","src/script/modules/parameters.js","src/script/modules/utils.js","src/script/modules/generate_ui.js","src/script/index.js"],"sourcesContent":["const canvas = document.querySelector('canvas');\r\nconst ctx = canvas.getContext('2d');\r\n\r\nconst _ = {\r\n    canvas : canvas,\r\n    ctx: ctx,\r\n    paramsWindow: document.getElementById('params')\r\n}\r\n\r\nexport { _ };","import { _ } from \"./global_var\";\r\n\r\nconst dist = function (p1, p2) {\r\n    return Math.sqrt(Math.pow(p2.x - p1.x, 2) + Math.pow(p2.y - p1.y, 2))\r\n}\r\n\r\nconst getValueFromEase = function (i, power, step, min, max) {\r\n\r\n    let ease;\r\n\r\n    if (power < 0) {\r\n        ease = 1 - Math.pow(1 - (i * step), power * -1)\r\n    } else {\r\n        ease = Math.pow(i * step, power);\r\n    }\r\n\r\n    return Math.round((min + (ease * (max - min))) * 1000) / 1000;\r\n}\r\n\r\nconst offsetPointOnAxis = function (pRef1, pRef2, pTarget, offset = 0, useYasInput = false) {\r\n    \r\n    let na = Math.max(pRef1.x > pRef2.x ? pRef1.x - pRef2.x : pRef2.x - pRef1.x, 1);\r\n    let c = pRef1.x > pRef2.x ? pRef1.y - pRef2.y : pRef2.y - pRef1.y;\r\n    let a = c / na;\r\n    let b = pRef1.y - a * pRef1.x;\r\n\r\n    let x, y;\r\n\r\n\r\n    if (!useYasInput) {\r\n\r\n        x = pTarget.x + offset;\r\n        y = a * x + b\r\n\r\n    } else {\r\n\r\n        y = pTarget.y + offset;\r\n        x = (y - b) / a\r\n    }\r\n\r\n    return { x: x, y: y };\r\n\r\n}\r\n\r\nconst getControlPoints = function (pBefore, pCurrent, pAfter, distFromCurrentFactor = params.smoothness.initial) {\r\n\r\n    let beforeToCurrentMid = { x: (pBefore.x + pCurrent.x) / 2, y: (pBefore.y + pCurrent.y) / 2 };\r\n\r\n    let currentToAfterMid = { x: (pCurrent.x + pAfter.x) / 2, y: (pCurrent.y + pAfter.y) / 2 };\r\n\r\n    let newCurrent = { x: (beforeToCurrentMid.x + currentToAfterMid.x) / 2, y: (beforeToCurrentMid.y + currentToAfterMid.y) / 2 };\r\n    \r\n    let beforeToCurrentDist = dist(beforeToCurrentMid, newCurrent);\r\n    let currentToAfterDist = dist(newCurrent, currentToAfterMid);\r\n\r\n    let DXgreaterThanDYBefore = Math.max(beforeToCurrentMid.x, newCurrent.x) - Math.min(beforeToCurrentMid.x, newCurrent.x) >= Math.max(beforeToCurrentMid.y, newCurrent.y) - Math.min(beforeToCurrentMid.y, newCurrent.y);\r\n\r\n    let DXgreaterThanDYAfter = Math.max(currentToAfterMid.x, newCurrent.x) - Math.min(currentToAfterMid.x, newCurrent.x) >= Math.max(currentToAfterMid.y, newCurrent.y) - Math.min(currentToAfterMid.y, newCurrent.y);\r\n\r\n    let dirBefore, dirAfter;\r\n\r\n    if (DXgreaterThanDYBefore) {\r\n        dirBefore = beforeToCurrentMid.x < newCurrent.x ? 1 : -1;\r\n    } else {\r\n        dirBefore = beforeToCurrentMid.y < newCurrent.y ? 1 : -1;\r\n    }\r\n\r\n    if (DXgreaterThanDYAfter) {\r\n        dirAfter = currentToAfterMid.x > newCurrent.x ? 1 : -1;\r\n    } else {\r\n        dirAfter = currentToAfterMid.y > newCurrent.y ? 1 : -1;\r\n    }\r\n\r\n    let cpl = offsetPointOnAxis(beforeToCurrentMid, currentToAfterMid, newCurrent, -dirBefore * beforeToCurrentDist * 0.552 * distFromCurrentFactor, !DXgreaterThanDYBefore);\r\n\r\n    let cpr = offsetPointOnAxis(beforeToCurrentMid, currentToAfterMid, newCurrent, dirAfter * currentToAfterDist * 0.552 * distFromCurrentFactor, !DXgreaterThanDYAfter);\r\n\r\n    return { cpl, cpr, x: newCurrent.x , y: newCurrent.y};\r\n\r\n}\r\n\r\nconst getPoints = function (radius, pointsNumber, randomPointsInterval, randomPointsHeight, randomCirclesRotation, currentCircleIteration, params) {\r\n\r\n    if (params.adaptativePointsPerCircle.value && pointsNumber !== randomPointsInterval.length) {\r\n        pointsNumber = randomPointsInterval.length;\r\n    }\r\n    \r\n    let pointStep = 360 / pointsNumber;\r\n    let circleStep = 1 / params.iterations.value;\r\n\r\n    let originFromCenter = (params.biggestCircleScale.value / 2 - radius) * params.distanceFromCenter.value;\r\n    let originX = _.canvas.width / 2 + (originFromCenter * Math.cos(params.originRotate.value * Math.PI / 180));\r\n    let originY = _.canvas.height / 2 + (originFromCenter * Math.sin(params.originRotate.value * Math.PI / 180));\r\n\r\n    let points = [], pointsWithCp = [], linkPointsIntervalRandomizationFactorToEaseFactor = 1, linkPointsHeightRandomizationFactorToEaseFactor = 1;\r\n\r\n    let rotationVariation = randomCirclesRotation ? randomCirclesRotation : 0;\r\n\r\n    if (params.circlesRotationVariationType.value === \"progression\") {\r\n        \r\n        if (params.clipCircles.value === \"out\") currentCircleIteration = (params.iterations.value - 1) - currentCircleIteration;\r\n\r\n        rotationVariation = Math.round(currentCircleIteration / (params.iterations.value - 1) * 100) / 100;\r\n    }\r\n\r\n    if (params.linkPointsIntervalRandomizationFactorToEase.value) {\r\n\r\n        linkPointsIntervalRandomizationFactorToEaseFactor = getValueFromEase(currentCircleIteration, params.pointsIntervalRandomizationEase.value, circleStep, params.pointsIntervalRandomizationMinFactor.value, params.pointsIntervalRandomizationMaxFactor.value);\r\n    }\r\n\r\n    if (params.linkPointsHeightRandomizationFactorToEase.value) {\r\n\r\n        linkPointsHeightRandomizationFactorToEaseFactor = getValueFromEase(currentCircleIteration, params.pointsHeightRandomizationEase.value, circleStep, params.pointsHeightRandomizationMinFactor.value, params.pointsHeightRandomizationMaxFactor.value);\r\n    }\r\n\r\n    for (let i = 0; i < pointsNumber; i++){\r\n\r\n        let rotateOffset = (params.randomizePointsInterval.value ? pointStep / 2 * (randomPointsInterval ? randomPointsInterval[i] : 0) * params.pointsIntervalRandomizationFactor.value * linkPointsIntervalRandomizationFactorToEaseFactor : 0) + (params.circlesRotationVariationType.value ? 360 * rotationVariation * params.circlesRotationVariationFactor.value : 0);\r\n        \r\n        let distOffset = params.randomizePointsHeight.value ? (randomPointsHeight ? randomPointsHeight[i] : 0) * radius * params.pointsHeightRandomizationFactor.value * linkPointsHeightRandomizationFactorToEaseFactor : 0;\r\n\r\n        let x = originX + (radius + distOffset) * Math.cos((i * pointStep + rotateOffset) * Math.PI / 180);\r\n        let y = originY + (radius + distOffset) * Math.sin((i * pointStep + rotateOffset) * Math.PI / 180);\r\n\r\n        points.push({ x: x, y: y, angle: i * pointStep });\r\n        \r\n    }\r\n\r\n    points.forEach((point, i) => {\r\n        \r\n        let pointBefore = i > 0 ? points[i - 1] : points[points.length - 1];\r\n\r\n        let pointAfter = i < points.length - 1 ? points[i + 1] : points[0];\r\n\r\n        pointsWithCp.push(getControlPoints(pointBefore, point, pointAfter, params.smoothness.value));\r\n    });\r\n\r\n    return pointsWithCp;\r\n}\r\n\r\nconst getCirclesRadius = function (params) {\r\n\r\n    let number = params.iterations.value;\r\n\r\n    let step = 1 / Math.max(number - 1, 1);\r\n\r\n    let radius = [];\r\n\r\n    for (let i = 0; i < number; i++){\r\n\r\n        let value = getValueFromEase(i, params.circleSpacingEase.value, step, params.smallestCircleScale.value / 2, params.biggestCircleScale.value / 2);\r\n\r\n        if (params.clipCircles.value === \"out\") {\r\n            radius.unshift(value);\r\n        } else {\r\n            radius.push(value);\r\n        }\r\n    }\r\n\r\n    return radius;\r\n}\r\n\r\nconst getPointsNumber = function (params, circleRadius) {\r\n\r\n    let arr = [];\r\n    const biggestCircleScale = params.biggestCircleScale.value / 2;\r\n    const maxPointsPerCircle = params.pointsPerCircle.value;\r\n\r\n    for (let i = 0; i < circleRadius.length; i++){\r\n\r\n        let value;\r\n\r\n        if (params.adaptativePointsPerCircle.value) {\r\n           \r\n            value = Math.floor(params.pointsPerCircle.min + (circleRadius[i] / biggestCircleScale) * (maxPointsPerCircle - params.pointsPerCircle.min));\r\n\r\n        } else {\r\n            value = maxPointsPerCircle;\r\n        }\r\n\r\n        arr.push(value);\r\n    }\r\n\r\n    return arr;\r\n}\r\n\r\nexport { dist, offsetPointOnAxis, getControlPoints, getPoints, getCirclesRadius, getPointsNumber, getValueFromEase };","import { _ } from \"./global_var\";\r\nimport { getCirclesRadius, getPointsNumber, getPoints, getValueFromEase } from \"./geometry_functions\";\r\n\r\nconst draw = function (params, generateNewSeed = { pointsInterval: false, pointsHeight: false, circlesRotation: false }) {\r\n\r\n    _.ctx.clearRect(0, 0, params.resolution.value, params.resolution.value);\r\n\r\n    const circlesRadius = getCirclesRadius(params);\r\n\r\n    const pointsPerCircle = getPointsNumber(params, circlesRadius);\r\n\r\n    let newRandomPointsInterval = generateNewSeed.pointsInterval || (params.randomizePointsInterval.value && !params.pointsIntervalRandomizationSeed.value);\r\n\r\n    if (newRandomPointsInterval) {\r\n        \r\n        let arr = [];\r\n\r\n        for (let i = 0; i < params.iterations.value; i++) {\r\n            arr.push(Array.apply(null, Array(pointsPerCircle[i])).map(() => -1 + 2 * Math.random()))\r\n        }\r\n\r\n        params.pointsIntervalRandomizationSeed.setValue(arr);\r\n    }\r\n\r\n    let newRandomPointsHeight = generateNewSeed.pointsHeight || (params.randomizePointsHeight.value && !params.pointsHeightRandomizationSeed.value);\r\n\r\n    if (newRandomPointsHeight) {\r\n        \r\n        let arr = [];\r\n\r\n        for (let i = 0; i < params.iterations.value; i++) {\r\n            arr.push(Array.apply(null, Array(pointsPerCircle[i])).map(() => -1 + 2 * Math.random()))\r\n        }\r\n\r\n        params.pointsHeightRandomizationSeed.setValue(arr);\r\n    }\r\n\r\n    let newRandomCirclesRotation = generateNewSeed.circlesRotation || (params.circlesRotationVariationType.value === \"randomization\" && !params.circlesRotationRandomizationSeed.value);\r\n\r\n    if (newRandomCirclesRotation) {\r\n\r\n        let arr = [];\r\n\r\n        for (let i = 0; i < params.iterations.value; i++) {\r\n            arr.push(Math.random());\r\n        }\r\n\r\n        params.circlesRotationRandomizationSeed.setValue(arr);\r\n\r\n    }\r\n\r\n    circlesRadius.forEach((circleRadius, i) => {\r\n\r\n        let lineWidth = params.strokeWidth.value;\r\n\r\n        let ease = Math.max(getValueFromEase(i, params.strokeWidthEase.value, 1 / (params.iterations.value - 1), params.strokeWidthMinFactor.value, params.strokeWidthMaxFactor.value), 10e-4);\r\n\r\n        if (params.linkStrokeWidthToEase.value) lineWidth *= ease;\r\n\r\n        _.ctx.lineWidth = lineWidth;\r\n\r\n        let points = getPoints(circleRadius, pointsPerCircle[i], params.pointsIntervalRandomizationSeed.value[i], params.pointsHeightRandomizationSeed.value[i], params.circlesRotationRandomizationSeed.value[i], i, params);\r\n\r\n        let path = new Path2D();\r\n        \r\n        points.forEach((point, i) => {\r\n\r\n            if (i === 0) path.moveTo(point.x, point.y);\r\n\r\n            if (params.smoothness.value === 0) {\r\n                \r\n                path.lineTo(point.x, point.y);\r\n                \r\n            } else if (i > 0) {\r\n\r\n                let cpStart = points[i - 1].cpr;\r\n                let cpEnd = point.cpl;\r\n\r\n                path.bezierCurveTo(cpStart.x, cpStart.y, cpEnd.x, cpEnd.y, point.x, point.y);\r\n            }\r\n        });\r\n\r\n        if (params.smoothness.value > 0) {\r\n            path.bezierCurveTo(points[points.length - 1].cpr.x, points[points.length - 1].cpr.y, points[0].cpl.x, points[0].cpl.y, points[0].x, points[0].y);\r\n        } else {\r\n            path.closePath();\r\n        }\r\n\r\n        if (params.clipCircles.value === \"in\") {\r\n\r\n            _.ctx.globalCompositeOperation = \"destination-in\";\r\n            _.ctx.fill(path);\r\n            _.ctx.globalCompositeOperation = \"source-over\";\r\n\r\n        } else if (params.clipCircles.value === \"out\") {\r\n\r\n            _.ctx.globalCompositeOperation = \"destination-out\";\r\n            _.ctx.fill(path);\r\n            _.ctx.globalCompositeOperation = \"source-over\";\r\n            \r\n        }\r\n\r\n        _.ctx.stroke(path);\r\n\r\n        /*points.forEach((point, i) => {\r\n\r\n           \r\n                _.ctx.beginPath();\r\n                _.ctx.fillStyle = point.color;\r\n                _.ctx.arc(point.x, point.y, 2, 0, 180);\r\n                _.ctx.fill();\r\n\r\n                _.ctx.beginPath();\r\n                _.ctx.fillStyle = \"blue\"\r\n                _.ctx.arc(point.cpl.x, point.cpl.y, 2, 0, 180);\r\n                _.ctx.fill();\r\n\r\n                _.ctx.beginPath();\r\n                _.ctx.fillStyle = \"blue\"\r\n                _.ctx.arc(point.cpr.x, point.cpr.y, 2, 0, 180);\r\n                _.ctx.fill();\r\n                \r\n                _.ctx.beginPath();\r\n                _.ctx.moveTo(point.cpl.x, point.cpl.y);\r\n                _.ctx.lineTo(point.cpr.x, point.cpr.y);\r\n                _.ctx.stroke()\r\n            \r\n            \r\n        })*/\r\n    });\r\n\r\n    if (!params.alphaBackground.value) {\r\n        _.ctx.globalCompositeOperation = \"destination-over\";\r\n        _.ctx.fillStyle = \"white\";\r\n        _.ctx.fillRect(0, 0, _.canvas.width, _.canvas.height);\r\n        _.ctx.globalCompositeOperation = \"source-over\";\r\n    }\r\n    \r\n};\r\n\r\nexport { draw };","import { _ } from \"./global_var\";\r\nimport { draw } from \"./draw\";\r\n\r\nlet params;\r\nconst MAX_EASE_POWER = 10;\r\n\r\nparams = {\r\n    resolution: {\r\n        group: \"downloadImage\",\r\n        label: \"resolution\",\r\n        type: \"number\",\r\n        initial: window.innerHeight,\r\n        min: 1,\r\n        max: 6000,\r\n        influences: [\"biggestCircleScale\", \"strokeWidth\"],\r\n        onUpdate: function (inputValue) {\r\n            _.canvas.width = _.canvas.height = inputValue;\r\n        }\r\n    },\r\n    biggestCircleScale: {\r\n        type: \"range\",\r\n        initial: 0.75,\r\n        min: 0,\r\n        max: 2,\r\n        step: 0.001,\r\n        stepValues: [0.25, 1 / 3, 0.5, 2 / 3, 0.75, 1],\r\n        influences: [\"smallestCircleScale\"],\r\n        onUpdate: function (inputValue) {\r\n            return inputValue * params.resolution.value;\r\n        }\r\n    },\r\n    smallestCircleScale: {\r\n        type: \"range\",\r\n        initial: 0.4,\r\n        min: 0,\r\n        max: 1,\r\n        step: 0.001,\r\n        stepValues: [0.25, 1 / 3, 0.5, 2 / 3, 0.75],\r\n        onUpdate: function (inputValue) {\r\n            return inputValue * params.biggestCircleScale.value;\r\n        }\r\n    },\r\n    originRotate: {\r\n        group: \"origin\",\r\n        type: \"range\",\r\n        label: \"rotate\",\r\n        initial: 60,\r\n        min: 0,\r\n        max: 360,\r\n        step: 0.001,\r\n        stepValues: [45, 90, 135, 180, 225, 270, 315]\r\n    },\r\n    distanceFromCenter: {\r\n        group: \"origin\",\r\n        type: \"range\",\r\n        label: \"distanceFromCenter\",\r\n        initial: 1,\r\n        min: 0,\r\n        max: 1,\r\n        step: 0.001\r\n    },\r\n    iterations: {\r\n        type: \"number\",\r\n        initial: 20,\r\n        min: 1,\r\n        step: 1\r\n    },\r\n    circleSpacingEase: {\r\n        group: \"circleSpacing\",\r\n        label: \"ease\",\r\n        type: \"range\",\r\n        initial: 0.5,\r\n        min: 0,\r\n        max: 1,\r\n        step: 0.001,\r\n        stepValues: [0.5],\r\n        onUpdate: function (inputValue) {\r\n            let computedValue;\r\n\r\n            if (inputValue < 0.5) {\r\n                computedValue = inputValue = (1 + ((0.5 - inputValue) / 0.5) * (MAX_EASE_POWER - 1)) * -1;\r\n            } else {\r\n                computedValue = inputValue = 1 + ((inputValue-0.5) / 0.5) * (MAX_EASE_POWER - 1)\r\n            }\r\n\r\n            return computedValue;\r\n        }\r\n    },\r\n    pointsPerCircle: {\r\n        group: \"pointsPerCircle\",\r\n        type: \"number\",\r\n        initial: 20,\r\n        min: 4,\r\n        step: 1\r\n    },\r\n    adaptativePointsPerCircle: {\r\n        group: \"pointsPerCircle\",\r\n        label: \"adaptative\",\r\n        type: \"select\",\r\n        listOfValues: [\r\n            {value: true, text: \"true\"},\r\n            {value: false, text: \"false\", selected: true},\r\n        ],\r\n        initial: false\r\n    },\r\n    smoothness: {\r\n        type: \"range\",\r\n        initial: 0,\r\n        min: 0,\r\n        max: 1,\r\n        step: 0.001\r\n    },\r\n    randomizePointsInterval: {\r\n        group: \"randomizePointsInterval\",\r\n        type: \"select\",\r\n        listOfValues: [\r\n            {value: true, text: \"true\"},\r\n            {value: false, text: \"false\", selected: true},\r\n        ],\r\n        disableInputsForValue: {\r\n            \"false\": \"*\"\r\n            \r\n        },\r\n        initial: false\r\n    },\r\n    pointsIntervalRandomizationFactor: {\r\n        group: \"randomizePointsInterval\",\r\n        type: \"range\",\r\n        label: \"randomizationFactor\",\r\n        initial: 1,\r\n        min: 0,\r\n        max: 1,\r\n        step: 0.001\r\n    },\r\n    pointsIntervalRandomizationSeed: {\r\n        group: \"randomizePointsInterval\",\r\n        type: \"button\",\r\n        text: \"seed\",\r\n        initial: false,\r\n        onClick: function () {\r\n     \r\n            requestAnimationFrame(() => {\r\n                draw(params, {pointsInterval: true});\r\n            });\r\n        }\r\n    },\r\n    linkPointsIntervalRandomizationFactorToEase: {\r\n        group: \"randomizePointsInterval\",\r\n        type: \"select\",\r\n        label: \"linkToEase\",\r\n        listOfValues: [\r\n            {value: true, text: \"true\"},\r\n            {value: false, text: \"false\", selected: true},\r\n        ],\r\n        disableInputsForValue: {\r\n            \"false\": [\r\n                \"pointsIntervalRandomizationEase\",\r\n                \"pointsIntervalRandomizationMinFactor\",\r\n                \"pointsIntervalRandomizationMaxFactor\"\r\n            ]\r\n        },\r\n        initial: false\r\n    },\r\n    pointsIntervalRandomizationEase: {\r\n        group: \"randomizePointsInterval\",\r\n        label: \"ease\",\r\n        type: \"range\",\r\n        initial: 0.5,\r\n        min: 0,\r\n        max: 1,\r\n        step: 0.001,\r\n        stepValues: [0.5],\r\n        onUpdate: function (inputValue) {\r\n            let computedValue;\r\n\r\n            if (inputValue < 0.5) {\r\n                computedValue = inputValue = (1 + ((0.5 - inputValue) / 0.5) * (MAX_EASE_POWER - 1)) * -1;\r\n            } else {\r\n                computedValue = inputValue = 1 + ((inputValue-0.5) / 0.5) * (MAX_EASE_POWER - 1)\r\n            }\r\n\r\n            return computedValue;\r\n        }\r\n    },\r\n    pointsIntervalRandomizationMinFactor: {\r\n        group: \"randomizePointsInterval\",\r\n        type: \"range\",\r\n        label: \"from\",\r\n        initial: 0,\r\n        min: 0,\r\n        max: 1,\r\n        step: 0.001\r\n    },\r\n    pointsIntervalRandomizationMaxFactor: {\r\n        group: \"randomizePointsInterval\",\r\n        type: \"range\",\r\n        label: \"to\",\r\n        initial: 1,\r\n        min: 0,\r\n        max: 1,\r\n        step: 0.001\r\n    },\r\n    randomizePointsHeight: {\r\n        group: \"randomizePointsHeight\",\r\n        type: \"select\",\r\n        listOfValues: [\r\n            {value: true, text: \"true\"},\r\n            {value: false, text: \"false\", selected: true},\r\n        ],\r\n        disableInputsForValue: {\r\n            \"false\": \"*\"\r\n        },\r\n        initial: false\r\n    },\r\n    pointsHeightRandomizationFactor: {\r\n        group: \"randomizePointsHeight\",\r\n        type: \"range\",\r\n        label: \"randomizationFactor\",\r\n        initial: 1,\r\n        min: 0,\r\n        max: 1,\r\n        step: 0.001\r\n    },\r\n    pointsHeightRandomizationSeed: {\r\n        group: \"randomizePointsHeight\",\r\n        type: \"button\",\r\n        text: \"seed\",\r\n        initial: false,\r\n        onClick: function () {\r\n     \r\n            requestAnimationFrame(() => {\r\n                draw(params, {pointsHeight: true});\r\n            });\r\n        }\r\n    },\r\n    linkPointsHeightRandomizationFactorToEase: {\r\n        group: \"randomizePointsHeight\",\r\n        type: \"select\",\r\n        label: \"linkToEase\",\r\n        listOfValues: [\r\n            {value: true, text: \"true\"},\r\n            {value: false, text: \"false\", selected: true},\r\n        ],\r\n        disableInputsForValue: {\r\n            \"false\": [\r\n                \"pointsHeightRandomizationEase\",\r\n                \"pointsHeightRandomizationMinFactor\",\r\n                \"pointsHeightRandomizationMaxFactor\"\r\n            ]\r\n            \r\n        },\r\n        initial: false\r\n    },\r\n    pointsHeightRandomizationEase: {\r\n        group: \"randomizePointsHeight\",\r\n        label: \"ease\",\r\n        type: \"range\",\r\n        initial: 0.5,\r\n        min: 0,\r\n        max: 1,\r\n        step: 0.001,\r\n        stepValues: [0.5],\r\n        onUpdate: function (inputValue) {\r\n            let computedValue;\r\n\r\n            if (inputValue < 0.5) {\r\n                computedValue = inputValue = (1 + ((0.5 - inputValue) / 0.5) * (MAX_EASE_POWER - 1)) * -1;\r\n            } else {\r\n                computedValue = inputValue = 1 + ((inputValue-0.5) / 0.5) * (MAX_EASE_POWER - 1)\r\n            }\r\n\r\n            return computedValue;\r\n        }\r\n    },\r\n    pointsHeightRandomizationMinFactor: {\r\n        group: \"randomizePointsHeight\",\r\n        type: \"range\",\r\n        label: \"from\",\r\n        initial: 0,\r\n        min: 0,\r\n        max: 1,\r\n        step: 0.001\r\n    },\r\n    pointsHeightRandomizationMaxFactor: {\r\n        group: \"randomizePointsHeight\",\r\n        type: \"range\",\r\n        label: \"to\",\r\n        initial: 1,\r\n        min: 0,\r\n        max: 1,\r\n        step: 0.001\r\n    },\r\n    circlesRotationVariationType: {\r\n        group: \"circlesRotationVariation\",\r\n        label: \"type\",\r\n        type: \"select\",\r\n        listOfValues: [\r\n            {value: false, text: \"none\", selected: true},\r\n            {value: \"randomization\", text: \"randomization\"},\r\n            {value: \"progression\", text: \"progression\"},\r\n        ],\r\n        disableInputsForValue: {\r\n            \"false\": \"*\",\r\n            \"progression\": [\r\n                \"circlesRotationRandomizationSeed\"\r\n            ]\r\n        },\r\n        initial: false,\r\n        onUpdate: function (inputValue) {\r\n            if (inputValue) {\r\n                requestAnimationFrame(() => {\r\n                    draw(params, {circlesRotation: true});\r\n                });\r\n            }\r\n        }\r\n    },\r\n    circlesRotationVariationFactor: {\r\n        group: \"circlesRotationVariation\",\r\n        type: \"range\",\r\n        label: \"variationFactor\",\r\n        initial: 0.5,\r\n        min: 0,\r\n        max: 1,\r\n        step: 0.001\r\n    },\r\n    circlesRotationRandomizationSeed: {\r\n        group: \"circlesRotationVariation\",\r\n        type: \"button\",\r\n        text: \"seed\",\r\n        initial: false,\r\n        onClick: function () {\r\n     \r\n            requestAnimationFrame(() => {\r\n                draw(params, {circlesRotation: true});\r\n            });\r\n        }\r\n    },\r\n    strokeWidth: {\r\n        group: \"strokeWidth\",\r\n        type: \"number\",\r\n        initial: 2,\r\n        max: 100,\r\n        min: 0,\r\n        step: 0.001,\r\n        onUpdate: function (inputValue) {\r\n            return (params.resolution.value * inputValue) / 2048\r\n        }\r\n    },\r\n    linkStrokeWidthToEase: {\r\n        group: \"strokeWidth\",\r\n        type: \"select\",\r\n        label: \"linkToEase\",\r\n        listOfValues: [\r\n            {value: true, text: \"true\"},\r\n            {value: false, text: \"false\", selected: true},\r\n        ],\r\n        disableInputsForValue: {\r\n            \"false\": [\r\n                \"strokeWidthEase\",\r\n                \"strokeWidthMinFactor\",\r\n                \"strokeWidthMaxFactor\"\r\n            ]\r\n            \r\n        },\r\n        initial: false\r\n    },\r\n    strokeWidthEase: {\r\n        group: \"strokeWidth\",\r\n        label: \"ease\",\r\n        type: \"range\",\r\n        initial: 0.5,\r\n        min: 0,\r\n        max: 1,\r\n        step: 0.001,\r\n        stepValues: [0.5],\r\n        onUpdate: function (inputValue) {\r\n            let computedValue;\r\n\r\n            if (inputValue < 0.5) {\r\n                computedValue = inputValue = (1 + ((0.5 - inputValue) / 0.5) * (MAX_EASE_POWER - 1)) * -1;\r\n            } else {\r\n                computedValue = inputValue = 1 + ((inputValue-0.5) / 0.5) * (MAX_EASE_POWER - 1)\r\n            }\r\n\r\n            return computedValue;\r\n        }\r\n    },\r\n    strokeWidthMinFactor: {\r\n        group: \"strokeWidth\",\r\n        type: \"range\",\r\n        label: \"from\",\r\n        initial: 0,\r\n        min: 0,\r\n        max: 1,\r\n        step: 0.001\r\n    },\r\n    strokeWidthMaxFactor: {\r\n        group: \"strokeWidth\",\r\n        type: \"range\",\r\n        label: \"to\",\r\n        initial: 1,\r\n        min: 0,\r\n        max: 1,\r\n        step: 0.001\r\n    },\r\n    clipCircles: {\r\n        type: \"select\",\r\n        label: \"type\",\r\n        listOfValues: [\r\n            {value: \"in\", text: \"in\"},\r\n            {value: \"out\", text: \"out\"},\r\n            {value: false, text: \"none\", selected: true},\r\n        ],\r\n        initial: false,\r\n        onUpdate: function (inputValue, oldValue) {\r\n            if ((inputValue === \"out\" && oldValue !== \"out\") || (inputValue !== \"out\" && oldValue === \"out\")) {\r\n                if (params.pointsIntervalRandomizationSeed.value) {\r\n                    params.pointsIntervalRandomizationSeed.setValue(params.pointsIntervalRandomizationSeed.value.reverse());\r\n                }\r\n                if (params.pointsHeightRandomizationSeed.value) {\r\n                    params.pointsHeightRandomizationSeed.setValue(params.pointsHeightRandomizationSeed.value.reverse());\r\n                }\r\n                if (params.circlesRotationRandomizationSeed.value) {\r\n                    params.circlesRotationRandomizationSeed.setValue(params.circlesRotationRandomizationSeed.value.reverse());\r\n                }\r\n            }\r\n        }\r\n    },\r\n    alphaBackground: {\r\n        type: \"select\",\r\n        listOfValues: [\r\n            {value: true, text: \"true\"},\r\n            {value: false, text: \"false\", selected: true},\r\n        ],\r\n        initial: false\r\n    },\r\n    downloadImage: {\r\n        group: \"downloadImage\",\r\n        type: \"button\",\r\n        text: \"download\",\r\n        onClick: function () {\r\n            _.canvas.toBlob(blob => {\r\n\r\n                let a = document.createElement('a');\r\n                a.href = URL.createObjectURL(blob);\r\n                a.setAttribute('download', '');\r\n                a.click();\r\n                URL.revokeObjectURL(a.href);\r\n\r\n            }, \"image/png\")\r\n        }\r\n    }\r\n};\r\n\r\nexport { params };","const camelCaseToSpan = function (str) {\r\n    \r\n    let uppers = [0], span = \"\";\r\n\r\n    Array.from(str).forEach((char, i) => {\r\n        if (char.toUpperCase() === char) uppers.push(i);\r\n    });\r\n\r\n    uppers.forEach((upIndex, i) => {\r\n        span += \"<span>\" + str.slice(upIndex, uppers[i + 1]) + \"</span>\";\r\n    })\r\n\r\n    return span;\r\n\r\n};\r\n\r\nexport { camelCaseToSpan };","import { _ } from \"./global_var\";\r\nimport { camelCaseToSpan } from \"./utils\";\r\nimport { params } from \"./parameters\";\r\nimport { draw } from \"./draw\";\r\n\r\nlet currentKey = null;\r\nlet fired = false;\r\n\r\ndocument.addEventListener('keydown', (e) => {\r\n\r\n    if (!fired) {\r\n        currentKey = e.key;\r\n        fired = true;\r\n    }\r\n    \r\n});\r\n\r\ndocument.addEventListener('keyup', () => {\r\n    currentKey = null;\r\n    fired = false;\r\n});\r\n\r\nconst disableInputsAccordingToSelectedValues = function (params, inputParamName) {\r\n\r\n    const inputParam = params[inputParamName];\r\n    const groupName = inputParam.group;\r\n\r\n    if (inputParam.hasOwnProperty('group')) {\r\n\r\n        const selects = document.querySelectorAll('.' + groupName + \" select\");\r\n        const finalInputsState = {};\r\n\r\n        selects.forEach(select => {\r\n\r\n            const param = params[select.getAttribute(\"data-var\")];\r\n\r\n            if (param.hasOwnProperty('disableInputsForValue')) {\r\n\r\n                const value = param.value.toString();\r\n\r\n                document.querySelectorAll(\".\" + groupName + \" [data-var]:not([data-var='\" + param.paramName + \"'])\").forEach(input => {\r\n\r\n                    let name = input.getAttribute(\"data-var\");\r\n                    let newState = true;\r\n\r\n                    if (param.disableInputsForValue.hasOwnProperty(value) && (param.disableInputsForValue[value].includes(name) || param.disableInputsForValue[value] === \"*\")) {\r\n                        newState = false;\r\n                    }\r\n                        \r\n                    finalInputsState[name] = finalInputsState.hasOwnProperty(name) ? finalInputsState[name] && newState : newState;\r\n\r\n                });\r\n                \r\n            }\r\n            \r\n        });\r\n\r\n        for (let name in finalInputsState) {\r\n\r\n            const input = document.querySelector(\"[data-var='\" + name + \"']\");\r\n\r\n            input.disabled = !finalInputsState[name];\r\n        \r\n            if (!input.parentElement.classList.contains(groupName)) {\r\n\r\n                const label = input.parentElement.querySelector('legend');\r\n                \r\n                if (label) {\r\n                    finalInputsState[name] ? label.classList.remove('disabled') : label.classList.add('disabled');\r\n                }\r\n\r\n            }\r\n        }\r\n        \r\n    }\r\n\r\n    \r\n}\r\n\r\nconst inputHandler = function (e) {\r\n\r\n    const target = e.target;\r\n    let paramName = target.getAttribute(\"data-var\");\r\n    let param = params[paramName];\r\n    let newValue = target.value;\r\n\r\n    if (target.type === \"range\" && param.hasOwnProperty('stepValues') && currentKey !== \"Control\") {\r\n\r\n        let value = (newValue + Math.abs(target.min)) * 10 / (target.max + Math.abs(target.min));\r\n        \r\n        let found = false;\r\n        let i = 0;\r\n\r\n        while (i < param.stepValues.length && !found) {\r\n\r\n            let stepValue = (param.stepValues[i] + Math.abs(target.min)) * 10 / (target.max + Math.abs(target.min));\r\n\r\n            if (value > stepValue - 0.022 && value < stepValue + 0.022) {\r\n                target.value = param.stepValues[i];\r\n                param.setValue(param.stepValues[i]);\r\n                found = true;\r\n            }\r\n\r\n            i++;\r\n\r\n        }\r\n\r\n        if(!found) param.setValue(newValue);\r\n\r\n    } else {\r\n        param.setValue(newValue);\r\n    }\r\n\r\n    disableInputsAccordingToSelectedValues(params, paramName);\r\n\r\n    let seedParam;\r\n\r\n    if (paramName === \"pointsPerCircle\"\r\n        || paramName === \"adaptativePointsPerCircle\"\r\n        || ((paramName === \"circleSpacingEase\" || paramName === \"smallestCircleScale\") && params.adaptativePointsPerCircle.value))\r\n    {\r\n        seedParam = { pointsInterval: true, pointsHeight: true };\r\n    } else if (paramName === \"iterations\") {\r\n        seedParam = { pointsInterval: true, pointsHeight: true, circlesRotation: true };\r\n    }\r\n\r\n    requestAnimationFrame(() => {\r\n        draw(params, seedParam);\r\n    });\r\n};\r\n\r\nconst generateUI = function (params) {\r\n    for (let param in params) {\r\n\r\n        let current = params[param];\r\n\r\n        // On ajoute une méthode setter pour valider les données des inputs à chaque changement de valeur et faire les modifications nécessaires si la méthode \"onUpdate\" est spécifiée:\r\n\r\n        Object.assign(current, {\r\n            setValue: function(v) {\r\n\r\n                const that = current;\r\n\r\n                if (that.hasOwnProperty('type') && that.type === \"number\" || that.type === \"range\") {\r\n\r\n                    if (isNaN(v)) v = that.initial;\r\n                    else {\r\n                        if (that.hasOwnProperty('max')) v = Math.min(v, (that.max));\r\n                        if (that.hasOwnProperty('min')) v = Math.max(v, (that.min));\r\n                    }\r\n                    \r\n                } else if (that.hasOwnProperty('type') && that.type === \"select\" && that.hasOwnProperty('listOfValues')) {\r\n\r\n                    try {\r\n                        v = JSON.parse(v);\r\n                    } catch { }\r\n\r\n                    let found = false;\r\n                    let defaultIndex = 0;\r\n                    let i = 0;\r\n\r\n                    while (!found && i < that.listOfValues.length) {\r\n                        if (that.listOfValues[i].value === v) {\r\n                            found = true;\r\n                        } else {\r\n                            if (that.listOfValues[i].hasOwnProperty('selected') && that.listOfValues[i].selected === true) defaultIndex = i;\r\n                            i++;\r\n                        }\r\n                    }\r\n\r\n                    if (!found) {\r\n                        v = that.listOfValues[defaultIndex].value;\r\n                    }\r\n                }\r\n\r\n                that.inputValue = v;\r\n\r\n                if (that.hasOwnProperty('onUpdate')) {\r\n\r\n                    let res = that.onUpdate(v, that.value);\r\n                    if (res) that.value = res;\r\n                    else that.value = v;\r\n\r\n                } else that.value = v;\r\n\r\n                if (that.hasOwnProperty('influences')) {\r\n                    that.influences.forEach(influence => {\r\n\r\n                        let param = params[influence];\r\n                        if (param.inputValue) param.setValue(param.inputValue);\r\n\r\n                    });\r\n                }\r\n                \r\n            }\r\n        });\r\n\r\n        // Génération du code HTML du formulaire :\r\n\r\n        current.paramName = param;\r\n    \r\n        if (current.hasOwnProperty('initial')) current.setValue(current.initial);\r\n    \r\n        let fieldset, elt;\r\n    \r\n        if (current.hasOwnProperty('group')) {\r\n            \r\n            let group = document.querySelector(\".\" + current.group);\r\n    \r\n            if (group) fieldset = group;\r\n            else {\r\n    \r\n                fieldset = document.createElement('fieldset');\r\n                fieldset.classList.add(current.group);\r\n                let legend = document.createElement('legend');\r\n                legend.innerHTML = camelCaseToSpan(current.group);\r\n                fieldset.append(legend);\r\n    \r\n            }\r\n        } else {\r\n            fieldset = document.createElement('fieldset');\r\n            let legend = document.createElement('legend');\r\n            legend.innerHTML = camelCaseToSpan(param);\r\n            fieldset.append(legend);\r\n        }\r\n    \r\n        if (current.type === \"button\") {\r\n    \r\n            elt = document.createElement('button');\r\n            elt.innerHTML = current.text;\r\n            elt.addEventListener('click', current.onClick);\r\n            elt.setAttribute('data-var', param);\r\n            \r\n        } else if (current.type === \"select\") {\r\n    \r\n            elt = document.createElement(\"select\");\r\n    \r\n            current.listOfValues.forEach(value => {\r\n                elt.innerHTML += `<option ${value.hasOwnProperty(\"selected\") && value.selected ? \"selected\" : \"\"} value=\"${value.value}\">${value.text}</option>`\r\n            });\r\n    \r\n            elt.addEventListener('input', inputHandler);\r\n            elt.setAttribute('data-var', param);\r\n    \r\n        } else {\r\n    \r\n            elt = document.createElement(\"input\");\r\n    \r\n            elt.type = current.type;\r\n\r\n            if (current.hasOwnProperty('step')) elt.step = current.step;\r\n    \r\n            if (current.hasOwnProperty('min')) elt.min = current.min;\r\n            if (current.hasOwnProperty('max')) elt.max = current.max;\r\n    \r\n            elt.value = current.inputValue;\r\n    \r\n            elt.addEventListener('input', inputHandler);\r\n            elt.setAttribute('data-var', param);\r\n\r\n            let container = document.createElement('div');\r\n            container.classList.add('input-container');\r\n\r\n            if (elt.type === \"range\") container.classList.add('range');\r\n            else if (elt.type === \"number\") container.classList.add('number');\r\n\r\n            container.append(elt);\r\n            elt = container;\r\n        }\r\n\r\n        if (current.hasOwnProperty(\"label\")) {\r\n            let fieldsetLabel = document.createElement(\"fieldset\");\r\n            let label = document.createElement('legend');\r\n            label.innerHTML = camelCaseToSpan(current.label);\r\n            fieldsetLabel.append(label);\r\n            fieldsetLabel.append(elt);\r\n            elt = fieldsetLabel;\r\n        }\r\n    \r\n        fieldset.append(elt);\r\n        _.paramsWindow.append(fieldset);\r\n\r\n    }\r\n\r\n    for (let param in params) {\r\n\r\n        disableInputsAccordingToSelectedValues(params, param);\r\n\r\n    }\r\n};\r\n\r\nexport { generateUI };","import { params } from \"./modules/parameters\";\r\nimport { generateUI } from \"./modules/generate_ui\";\r\nimport { draw } from \"./modules/draw\";\r\n\r\n\r\nlet input = document.createElement('input');\r\ninput.type = \"number\";\r\ninput.style.fontSize = \"1.9vh\";\r\ndocument.documentElement.append(input);\r\nconst numberInputHeight = input.offsetHeight;\r\ninput.remove();\r\n\r\ndocument.body.style.setProperty('--number-input-height', numberInputHeight + \"px\");\r\n\r\ninput.type = \"range\";\r\ninput.style.removeProperty('font-size');\r\ndocument.documentElement.append(input);\r\nconst rangeInputHeight = input.offsetHeight;\r\ninput.remove();\r\n\r\ndocument.body.style.setProperty('--range-input-height', rangeInputHeight + \"px\");\r\n\r\ngenerateUI(params);\r\n\r\nrequestAnimationFrame(() => {\r\n    draw(params);\r\n});\r\n\r\n"],"names":["$ba34ad0cc1ecfea6$var$canvas","document","querySelector","$ba34ad0cc1ecfea6$var$ctx","getContext","$ba34ad0cc1ecfea6$export$71511d61b312f219","canvas","ctx","paramsWindow","getElementById","$58c2b6c9d3a00a13$export$6c4a311cc157c764","p1","p2","Math","sqrt","pow","x","y","$58c2b6c9d3a00a13$export$9e04c6c993e22ccd","i","power","step","min","max","ease","round","$58c2b6c9d3a00a13$export$36b2348463b95166","pRef1","pRef2","pTarget","offset","useYasInput","na","a","b","$58c2b6c9d3a00a13$export$7e3e5a9ff6d02ede","pBefore","pCurrent","pAfter","distFromCurrentFactor","params","smoothness","initial","dirBefore","dirAfter","beforeToCurrentMid","currentToAfterMid","newCurrent","beforeToCurrentDist","currentToAfterDist","DXgreaterThanDYBefore","DXgreaterThanDYAfter","$ea6065299f17f9f2$export$e529deb2bfd496dc","generateNewSeed","pointsInterval","pointsHeight","circlesRotation","clearRect","resolution","value","circlesRadius","number","iterations","radius","circleSpacingEase","smallestCircleScale","biggestCircleScale","clipCircles","unshift","push","$58c2b6c9d3a00a13$export$a0802d0d56310d0a","pointsPerCircle","circleRadius","arr","maxPointsPerCircle","length","adaptativePointsPerCircle","floor","$58c2b6c9d3a00a13$export$a990042fb368a533","randomizePointsInterval","pointsIntervalRandomizationSeed","Array","apply","map","random","setValue","randomizePointsHeight","pointsHeightRandomizationSeed","circlesRotationVariationType","circlesRotationRandomizationSeed","forEach","i1","lineWidth","strokeWidth","strokeWidthEase","strokeWidthMinFactor","strokeWidthMaxFactor","linkStrokeWidthToEase","points","pointsNumber","randomPointsInterval","randomPointsHeight","randomCirclesRotation","currentCircleIteration","pointStep","circleStep","originFromCenter","distanceFromCenter","originX","width","cos","originRotate","PI","originY","height","sin","pointsWithCp","linkPointsIntervalRandomizationFactorToEaseFactor","linkPointsHeightRandomizationFactorToEaseFactor","rotationVariation","linkPointsIntervalRandomizationFactorToEase","pointsIntervalRandomizationEase","pointsIntervalRandomizationMinFactor","pointsIntervalRandomizationMaxFactor","linkPointsHeightRandomizationFactorToEase","pointsHeightRandomizationEase","pointsHeightRandomizationMinFactor","pointsHeightRandomizationMaxFactor","rotateOffset","pointsIntervalRandomizationFactor","circlesRotationVariationFactor","distOffset","pointsHeightRandomizationFactor","angle","point","pointBefore","pointAfter","$58c2b6c9d3a00a13$export$af0496c55bf31eb","path","Path2D","moveTo","lineTo","cpStart","cpr","cpEnd","cpl","bezierCurveTo","closePath","globalCompositeOperation","fill","stroke","$edfdaed3b9f3fa0f$export$281ad3752a540efe","group","label","type","window","innerHeight","influences","onUpdate","inputValue","stepValues","computedValue","listOfValues","text","selected","disableInputsForValue","false","onClick","requestAnimationFrame","progression","oldValue","reverse","alphaBackground","downloadImage","toBlob","blob","createElement","href","URL","createObjectURL","setAttribute","click","revokeObjectURL","$c96f57613fceb58f$export$465e181847366fda","str","uppers","span","from","char","toUpperCase","upIndex","slice","$36768e1cc8fcd734$var$currentKey","$36768e1cc8fcd734$var$fired","addEventListener","e","key","$36768e1cc8fcd734$var$disableInputsAccordingToSelectedValues","inputParamName","inputParam","groupName","hasOwnProperty","selects","querySelectorAll","finalInputsState","select","param","getAttribute","toString","paramName","input","name","newState","includes","name1","disabled","parentElement","classList","contains","remove","add","$36768e1cc8fcd734$var$inputHandler","target","seedParam","newValue","abs","found","stepValue","$06e535a9183db766$var$input","style","fontSize","documentElement","append","$06e535a9183db766$var$numberInputHeight","offsetHeight","body","setProperty","removeProperty","$06e535a9183db766$var$rangeInputHeight","param2","fieldset","elt","current","Object","assign","v","that","isNaN","JSON","parse","defaultIndex","res","influence","legend","innerHTML","container","fieldsetLabel","param1","$36768e1cc8fcd734$export$cddef0e4b5e6ec4c"],"version":3,"file":"index.244cdd4e.js.map"}